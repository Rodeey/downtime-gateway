{
  "openapi": "3.1.0",
  "info": {
    "version": "1.0.0",
    "title": "Downtime API"
  },
  "paths": {
    "/test-db": {
      "x-zuplo-path": { "pathMode": "open-api" },
      "get": {
        "summary": "Test DB",
        "description": "Check Supabase connection",
        "x-zuplo-route": {
          "corsPolicy": "anything-goes",
          "handler": {
            "export": "default",
            "module": "$import(./modules/handlers/test-db)",
            "options": {}
          },
          "policies": { "inbound": [] }
        },
        "operationId": "test-db"
      }
    },
    "/places": {
      "x-zuplo-path": { "pathMode": "open-api" },
      "get": {
        "summary": "Places Handler",
        "description": "Main discovery endpoint",
        "x-zuplo-route": {
          "corsPolicy": "anything-goes",
          "handler": {
            "export": "default",
            "module": "$import(./modules/handlers/places-handler)",
            "options": {}
          },
          "policies": { "inbound": [] }
        },
        "operationId": "places-route"
      }
    },
    "/categories": {
      "x-zuplo-path": { "pathMode": "open-api" },
      "get": {
        "summary": "Categories Handler",
        "description": "Return available categories near user",
        "x-zuplo-route": {
          "corsPolicy": "anything-goes",
          "handler": {
            "export": "default",
            "module": "$import(./modules/handlers/categories-handler)",
            "options": {}
          },
          "policies": { "inbound": [] }
        },
        "operationId": "categories-route"
      }
    },
    "/travel-times": {
      "x-zuplo-path": { "pathMode": "open-api" },
      "post": {
        "summary": "Travel Times Handler",
        "description": "Compute walk/drive travel times",
        "x-zuplo-route": {
          "corsPolicy": "anything-goes",
          "handler": {
            "export": "default",
            "module": "$import(./modules/handlers/travel-times-handler)",
            "options": {}
          },
          "policies": { "inbound": [] }
        },
        "operationId": "travel-times-route"
      }
    },
    "/geocode": {
      "x-zuplo-path": { "pathMode": "open-api" },
      "get": {
        "summary": "Geocode Handler",
        "description": "Forward geocoding (use ?address= query param)",
        "x-zuplo-route": {
          "corsPolicy": "anything-goes",
          "handler": {
            "export": "default",
            "module": "$import(./modules/handlers/geocode-handler)",
            "options": {}
          },
          "policies": { "inbound": [] }
        },
        "operationId": "geocode-route"
      }
    },
    "/test-env": {
      "x-zuplo-path": { "pathMode": "open-api" },
      "get": {
        "summary": "Test Env Vars",
        "description": "Check if environment variables are available",
        "x-zuplo-route": {
          "corsPolicy": "anything-goes",
          "handler": {
            "export": "default",
            "module": "$import(./modules/handlers/test-env)",
            "options": {}
          },
          "policies": { "inbound": [] }
        },
        "operationId": "test-env-route"
      }
    }
  }
}


